import { chromium, Browser, BrowserContext, Page } from '@playwright/test';

async function login() {
  const browser: Browser = await chromium.launch({ headless: false }); // Visible browser for MFA
  const context: BrowserContext = await browser.newContext();
  const page: Page = await context.newPage();
  await page.goto('https://your-crm-url'); // Replace with your Dynamics CRM URL
  // Enter username, password, and handle MFA manually
  // Wait until logged in (e.g., await page.waitForURL('**/home'))
  await context.storageState({ path: 'state.json' }); // Save login state
  await browser.close();
}

login();






ts-node login.ts







